
@{
    ViewData["Title"] = "PersonalizePackages";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section CSS{
    <link href="~/css/cardPayCSS.css" rel="stylesheet"/>
    <style>
        input:disabled {
            opacity: inherit !important;
        }

        a {
            text-decoration: none !important;
        }

        .blue_text {
            color: #4183c4;
            text-decoration: none;
        }
    </style>
}
<br>
<br>
@try
{
    <div class="container" id="frmCreatePackage">

        <!-- General Forma Data -->
        @{

            RouteValuesModel routesValues = ViewBag.RouteValues;
            if (routesValues != null)
            {
                if (routesValues.IsSuccess.Equals(true) && routesValues.Command == "Update")
                {
                    <input id="UserID" type="number" value=@routesValues.userID style="display:none" />
                }
            }
        }
        <div class="ui equal width form">
            <div class="fields">
                <div class="field">
                    <label>Ciudad de origen</label>
                    <select class="ui search selection dropdown" asp-items="ViewBag.ciudadesResidencia" id="cbbCiudadResidencia">
                        <option value="">Escoje tu Residencia actual</option>
                    </select>
                </div>
                <div class="field">
                    <label>Ciudad de destino</label>
                    <select class="ui search dropdown" asp-items="ViewBag.ciudades" id="cbbCiudadDestino">
                        <option value="">Escoje tu destino</option>
                    </select>
                </div>
                <div class="field">
                    <label>Cantidad de personas</label>
                    <div class="ui right labeled input contador">
                        <div class="ui icon button label minus_button">
                            <i class="minus icon"></i>
                        </div>
                        <input class="count_input" id="txtCantidadPersonas" type="number" value="1"
                               style="text-align: center;" readonly>
                        <div class="ui icon button label plus_button">
                            <i class="plus icon"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="two fields">
                <div class="field">
                    <label>Fecha de entrada</label>
                    <div class="ui calendar" id="txtFechaEntrada">
                        <div class="ui input left icon">
                            <i class="calendar icon"></i>
                            <input type="text" placeholder="MM dd, YYYY" readonly>
                        </div>
                    </div>
                </div>
                <div class="field">
                    <label>Fecha de salida</label>
                    <div class="ui calendar" id="txtFechaSalida">
                        <div class="ui input left icon">
                            <i class="calendar icon"></i>
                            <input type="text" placeholder="MM dd, YYYY" readonly>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- steps bar -->
        <div class="ui five top attached steps" id="StepsContainer">
            <div class="active step">
                <i class="camera retro icon"></i>
                <div class="content">
                    <div class="title">Hotel</div>
                    <div class="description">Escoje tu hotel</div>
                </div>
            </div>
            <div class="disabled step">
                <i class="calendar alternate icon"></i>
                <div class="content">
                    <div class="title">Actividades</div>
                    <div class="description">Escoje las actividades a realizar durante tu viaje</div>
                </div>
            </div>
            <div class="disabled step">
                <i class="bus icon"></i>
                <div class="content">
                    <div class="title">Transporte</div>
                    <div class="description">Escoje un transporte disponible a tu preferencia</div>
                </div>
            </div>
            <div class="disabled step">
                <i class="utensils icon"></i>
                <div class="content">
                    <div class="title">Restaurant</div>
                    <div class="description">Escoje tu restaurante de preferencia en la ciudad</div>
                </div>
            </div>
            <div class="disabled step">
                <i class="payment icon"></i>
                <div class="content">
                    <div class="title">Confirmar Orden</div>
                    <div class="description">Verifica los detalles de tu paquete y confirma tu pago</div>
                </div>
            </div>
        </div>
        <div class="ui purple top attached progress">
            <div class="bar" id="StepsProgressBar" style="width: 20%;"></div>
        </div>

        <!-- end step content -->
        <div class="ui attached segment overflow-auto" style="max-height: 35em;" id="main_content">

            <div id="hotel_container">
                <div class="ui stackable three column grid" id="frmRooms"></div>

                <div class="ui attached" id="frmHotels">
                    <div class="ui divided items" id="frmItems">

                        <div class="item">
                            <div class="content">
                                <div class="ui negative message">
                                    <div class="header">
                                        No hay hoteles disponibles
                                    </div>
                                    <p>
                                        Selecciona una ciudad para empezar tu busqueda
                                    </p>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div id="activities_container">
                <div class="ui fluid two item top attached menu" id="frmActivities_menu">
                    <a class="item active" data-target="#frmHotelActivities">ACTIVIDADES DE HOTEL</a>
                    <a class="item" data-target="#frmExtraActivities">ACTIVIDADES EXTRA</a>
                </div>
                <br>

                <div id="frmExtraActivities">
                    <div class="ui divided items"></div>
                </div>

                <div id="frmHotelActivities">
                    <div class="ui divided items"></div>
                </div>
            </div>

            <div id="transport_container">
                <div class="ui fluid three item top attached menu" id="frmTransporte_menu">
                    <a class="item active" data-target="#frmTransportes">TRANSPORTES</a>
                    <a class="item" data-target="#frmVuelos">VUELOS</a>
                    <a class="item" data-target="#frmPortuarios">PORTUARIOS</a>
                </div>

                <div class="ui attached segment" id="frmTransportes">
                    <div class="ui divided items"></div>
                </div>

                <div class="ui attached segment" id="frmVuelos">
                    <div class="ui divided items"></div>
                </div>

                <div class="ui attached segment" id="frmPortuarios">

                    <div class="ui divided items"></div>

                </div>
            </div>

            <div id="restaurant_container">
                <div class="ui divided items">
                </div>

                <div class="ui modal" id="mdlMenus">
                    <div class="header">Menus</div>
                    <div class="scrolling content">
                        <div class="ui divided items"></div>
                    </div>
                    <div class="actions">
                        <div class="ui cancel button">Cerrar</div>
                    </div>
                </div>


            </div>

            <div id="pago_container">

                <div id="frmError"></div>

                <div id="frmDetails">

                    <!-- hotel info -->
                    <div id="frmDetails_hotel">

                        <!-- hotel info -->
                        <br>
                        <h4 class="ui left floated header">
                            <i class="bed icon"></i> Hospedaje y estadia
                        </h4>
                        <div class="ui clearing divider"></div>

                        <div class="ui attached">
                            <div class="ui divided items">

                                <div class="item">
                                    <div class="ui negative message">
                                        <div class="header">
                                            A ocurrido un error al cargar los datos de el hotel selecionado
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>

                    <!-- transport info -->
                    <div id="frmDetails_transport">
                        <br>
                        <h4 class="ui left floated header">
                            <i class="bus icon"></i> Servicios de transporte
                        </h4>
                        <div class="ui clearing divider"></div>

                        <div class="ui attached">
                            <div class="ui divided items">
                                <div class="item">
                                    <div class="ui negative message">
                                        <div class="header">
                                            A ocurrido un error al cargar los datos de el transporte selecionado
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- activities info -->
                    <div id="frmDetails_activities">
                        <!-- activities info -->
                        <br>
                        <h4 class="ui left floated header">
                            <i class="calendar alternate outline icon"></i> Turismo y actividades extras
                        </h4>
                        <div class="ui clearing divider"></div>

                        <div class="ui attached">
                            <div class="ui divided items">
                                <div class="item">
                                    <div class="ui negative message">
                                        <div class="header">
                                            A ocurrido un error al cargar los datos de las actividades selecionadas
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- brakdown info -->
                    <div id="frmDetails_Restaurant">
                        <br>
                        <h4 class="ui left floated header">
                            <i class="tag icon"></i> Restaurantes
                        </h4>
                        <div class="ui clearing divider"></div>

                        <div class="ui attached">
                            <div class="ui divided items">
                                <div class="item">
                                    <div class="ui negative message">
                                        <div class="header">
                                            A ocurrido un error al cargar los datos de el restaurante selecionado
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- brakdown info -->
                    <br>
                    <h4 class="ui left floated header">
                        <i class="tag icon"></i> Desgloce de precios de paquete
                    </h4>
                    <div class="ui clearing divider"></div>

                    <div class="ui grid two column">

                        <div class="ten wide column" id="frmPayment">
                            <div class="ui card w-100">
                                <div class="content">
                                    <div class="fields">
                                        <div class="required field">
                                            <h3 class="ui header">Cantidad de pagos en la que se desea cancelar el paquete (Maximo de 5)</h3>
                                            <div class="ui right labeled input">
                                                <label for="amount" class="ui label">Realizar en un plazo de...</label>
                                                <input type="number" placeholder="Cantidad de pagos" max="5" min="0" id="txtCantidadPagos">
                                                <div class="ui label">Pagos</div>
                                            </div>
                                        </div>
                                        <div class="required field" style="padding-top: 20px;">
                                            <h3 class="ui header">Escoje tu forma de pago</h3>
                                            <div class="ui floating dropdown labeled icon button" id="cbbFormaPago">
                                                <i class="credit card icon"></i>
                                                <span class="text">Selecciona una forma de pago</span>
                                                <div class="menu">
                                                    <div class="item" data-value="1">Visa o Mastercard</div>
                                                    <div class="item" data-value="2">Paypal</div>
                                                    <div class="item" data-value="3">Trasaccion</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <br />
                                    <div id="completarPagoError"></div>
                                </div>
                            </div>

                            <div class="ui segment">

                                <div class="checkout">

                                    <div class="credit-card-box">
                                        <div class="flip">
                                            <div class="front">
                                                <div class="chip"></div>
                                                <div class="logo">
                                                    <svg version="1.1" id="visa" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                                         width="47.834px" height="47.834px" viewBox="0 0 47.834 47.834" style="enable-background:new 0 0 47.834 47.834;">
                                                        <g>
                                                            <g>
                                                                <path d="M44.688,16.814h-3.004c-0.933,0-1.627,0.254-2.037,1.184l-5.773,13.074h4.083c0,0,0.666-1.758,0.817-2.143
                                                         c0.447,0,4.414,0.006,4.979,0.006c0.116,0.498,0.474,2.137,0.474,2.137h3.607L44.688,16.814z M39.893,26.01
                                                         c0.32-0.819,1.549-3.987,1.549-3.987c-0.021,0.039,0.317-0.825,0.518-1.362l0.262,1.23c0,0,0.745,3.406,0.901,4.119H39.893z
                                                         M34.146,26.404c-0.028,2.963-2.684,4.875-6.771,4.875c-1.743-0.018-3.422-0.361-4.332-0.76l0.547-3.193l0.501,0.228
                                                         c1.277,0.532,2.104,0.747,3.661,0.747c1.117,0,2.313-0.438,2.325-1.393c0.007-0.625-0.501-1.07-2.016-1.77
                                                         c-1.476-0.683-3.43-1.827-3.405-3.876c0.021-2.773,2.729-4.708,6.571-4.708c1.506,0,2.713,0.31,3.483,0.599l-0.526,3.092
                                                         l-0.351-0.165c-0.716-0.288-1.638-0.566-2.91-0.546c-1.522,0-2.228,0.634-2.228,1.227c-0.008,0.668,0.824,1.108,2.184,1.77
                                                         C33.126,23.546,34.163,24.783,34.146,26.404z M0,16.962l0.05-0.286h6.028c0.813,0.031,1.468,0.29,1.694,1.159l1.311,6.304
                                                         C7.795,20.842,4.691,18.099,0,16.962z M17.581,16.812l-6.123,14.239l-4.114,0.007L3.862,19.161
                                                         c2.503,1.602,4.635,4.144,5.386,5.914l0.406,1.469l3.808-9.729L17.581,16.812L17.581,16.812z M19.153,16.8h3.89L20.61,31.066
                                                         h-3.888L19.153,16.8z" />
                                                            </g>
                                                        </g>
                                                    </svg>
                                                </div>
                                                <div class="number"></div>
                                                <div class="card-holder">
                                                    <label>Card holder</label>
                                                    <div></div>
                                                </div>
                                                <div class="card-expiration-date">
                                                    <label>Expires</label>
                                                    <div></div>
                                                </div>
                                            </div>
                                            <div class="back">
                                                <div class="strip"></div>
                                                <div class="logo">
                                                    <svg version="1.1" id="visa" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                                         width="47.834px" height="47.834px" viewBox="0 0 47.834 47.834" style="enable-background:new 0 0 47.834 47.834;">
                                                        <g>
                                                            <g>
                                                                <path d="M44.688,16.814h-3.004c-0.933,0-1.627,0.254-2.037,1.184l-5.773,13.074h4.083c0,0,0.666-1.758,0.817-2.143
                                                         c0.447,0,4.414,0.006,4.979,0.006c0.116,0.498,0.474,2.137,0.474,2.137h3.607L44.688,16.814z M39.893,26.01
                                                         c0.32-0.819,1.549-3.987,1.549-3.987c-0.021,0.039,0.317-0.825,0.518-1.362l0.262,1.23c0,0,0.745,3.406,0.901,4.119H39.893z
                                                         M34.146,26.404c-0.028,2.963-2.684,4.875-6.771,4.875c-1.743-0.018-3.422-0.361-4.332-0.76l0.547-3.193l0.501,0.228
                                                         c1.277,0.532,2.104,0.747,3.661,0.747c1.117,0,2.313-0.438,2.325-1.393c0.007-0.625-0.501-1.07-2.016-1.77
                                                         c-1.476-0.683-3.43-1.827-3.405-3.876c0.021-2.773,2.729-4.708,6.571-4.708c1.506,0,2.713,0.31,3.483,0.599l-0.526,3.092
                                                         l-0.351-0.165c-0.716-0.288-1.638-0.566-2.91-0.546c-1.522,0-2.228,0.634-2.228,1.227c-0.008,0.668,0.824,1.108,2.184,1.77
                                                         C33.126,23.546,34.163,24.783,34.146,26.404z M0,16.962l0.05-0.286h6.028c0.813,0.031,1.468,0.29,1.694,1.159l1.311,6.304
                                                         C7.795,20.842,4.691,18.099,0,16.962z M17.581,16.812l-6.123,14.239l-4.114,0.007L3.862,19.161
                                                         c2.503,1.602,4.635,4.144,5.386,5.914l0.406,1.469l3.808-9.729L17.581,16.812L17.581,16.812z M19.153,16.8h3.89L20.61,31.066
                                                         h-3.888L19.153,16.8z" />
                                                            </g>
                                                        </g>
                                                    </svg>

                                                </div>
                                                <div class="ccv">
                                                    <label>CCV</label>
                                                    <div></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <form class="form" autocomplete="off" novalidate>
                                        <fieldset>
                                            <label for="card-number">Card Number</label>
                                            <input type="num" id="card-number" class="input-cart-number" maxlength="4" />
                                            <input type="num" id="card-number-1" class="input-cart-number" maxlength="4" />
                                            <input type="num" id="card-number-2" class="input-cart-number" maxlength="4" />
                                            <input type="num" id="card-number-3" class="input-cart-number" maxlength="4" />
                                        </fieldset>
                                        <fieldset>
                                            <label for="card-holder">Card holder</label>
                                            <input type="text" id="card-holder" />
                                        </fieldset>
                                        <fieldset class="fieldset-expiration">
                                            <label for="card-expiration-month">Expiration date</label>
                                            <div class="select">
                                                <select id="card-expiration-month">
                                                    <option></option>
                                                    <option>01</option>
                                                    <option>02</option>
                                                    <option>03</option>
                                                    <option>04</option>
                                                    <option>05</option>
                                                    <option>06</option>
                                                    <option>07</option>
                                                    <option>08</option>
                                                    <option>09</option>
                                                    <option>10</option>
                                                    <option>11</option>
                                                    <option>12</option>
                                                </select>
                                            </div>
                                            <div class="select">
                                                <select id="card-expiration-year">
                                                    <option></option>
                                                    <option>2016</option>
                                                    <option>2017</option>
                                                    <option>2018</option>
                                                    <option>2019</option>
                                                    <option>2020</option>
                                                    <option>2021</option>
                                                    <option>2022</option>
                                                    <option>2023</option>
                                                    <option>2024</option>
                                                    <option>2025</option>
                                                </select>
                                            </div>
                                        </fieldset>
                                        <fieldset class="fieldset-ccv">
                                            <label for="card-ccv">CCV</label>
                                            <input type="text" id="card-ccv" maxlength="3" />
                                        </fieldset>
                                    </form>
                                </div>

                                <a class="the-most" target="_blank" href="https://codepen.io/2016/popular/pens/9/">
                                    <img src="https://raw.githubusercontent.com/supahfunk/supah-codepen/master/themost-2016.png">
                                </a>
                            </div>
                        </div>

                        <div class="six wide column">
                            <div class="ui card w-100">
                                <div class="content">
                                    <div class="header">Desgloce final</div>
                                </div>
                                <div class="content">
                                    <table class="ui very basic collapsing table w-100" id="details_Breakdown">
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <h4 class="ui grey header">
                                                        SUB TOTAL
                                                    </h4>
                                                </td>
                                                <td style="text-align: end;">
                                                    <h4 class="ui black header">
                                                        L 0.00
                                                    </h4>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <h4 class="ui grey header">
                                                        I.S.V
                                                    </h4>
                                                </td>
                                                <td style="text-align: end;">
                                                    <h4 class="ui black header">
                                                        L 0.00
                                                    </h4>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <h4 class="ui grey header">
                                                        DESCUENTOS
                                                    </h4>
                                                </td>
                                                <td style="text-align: end;">
                                                    <h4 class="ui black header">
                                                        L 0.00
                                                    </h4>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <h3 class="ui image header">
                                                        <b>TOTAL</b>
                                                    </h3>
                                                </td>
                                                <td style="text-align: end;">
                                                    <h3 class="ui green header">
                                                        L 0.00
                                                    </h3>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="extra content">
                                    <button class="ui button" id="btnFinalizar">Finalizar compra</button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div id="frmPay">

                    

                </div>

            </div>

            <div id="state_container">

                <div class="ui placeholder segment" id="success_alert" style="opacity: inherit; cursor: auto;">

                    <h2 class="ui icon green header">
                        <i class="check circle icon"></i>
                        <div class="content">
                            !PAQUETE CREADO CON EXITO!
                            <!--<div class="sub header">Manage your account settings and set e-mail preferences.</div>-->
                        </div>
                    </h2>

                    <div class="inline">
                        <a class="ui primary button" href="/ClientHome/index" id="btnVolver">Volver al inicio</a>
                        <a class="ui button" href="/Reservation/PersonalizePackages" id="btnCrearOtro">Crear otro paquete</a>
                    </div>
                </div>

                <div class="ui placeholder segment" id="error_alert" style="opacity: inherit; cursor: auto;">

                    <h2 class="ui icon red header">
                        <i class="times circle icon"></i>
                        <div class="content">
                            !ERROR AL CREAR EL PAQUETE!
                            <!--<div class="sub header">Manage your account settings and set e-mail preferences.</div>-->
                        </div>
                    </h2>

                    <div class="inline">
                        <a class="ui primary button" href="/ClientHome/index" >Volver al menu</a>
                    </div>
                </div>

            </div>
        </div>

        <div class="ui attached segment" id="frmStepfooter">
            <button class="ui left labeled icon button" id="btnBeforeStep" disabled>
                <i class="left arrow icon"></i>
                ATRAS
            </button>
            <button class="ui right labeled green icon button" id="btnNextStep" disabled>
                <i class="right arrow icon"></i>
                SIGUIENTE PASO
            </button>
        </div>
        <br><br>

    </div>
}
catch (Exception)
{
    <script>location.assign("@Url.Action("Error", "Home")");</script>
}
@section Scripts{

    <script src="~/js/ReservationJs/personalizePackages.js"></script>
    <script src="~/js/ReservationJS/cardPayJS.js"></script>
    @{
        if (ViewBag.RouteValues.Command == "Update")
        {
            <script src="~/js/ReservationJS/personalizePackagesUpdate.js"></script>
        }
    }

}

