@using Microsoft.AspNetCore.Mvc.Localization
@using Microsoft.AspNetCore.Http;
@using Microsoft.AspNetCore.Authorization;
@using System.Security.Claims;
@using AHM_TOTAL_TRAVEL_WEB.Services;
@inject IViewLocalizer Localizer;
@{
    string usersRole = Context.Session.GetString("Role");
    if (String.IsNullOrEmpty(usersRole)) {
        <script>
            window.location.replace("/Access/Login");
        </script>
    }
}
<!DOCTYPE html>

<html lang="es">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Agencia Total Travel</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="robots" content="all,follow">

    <!-- Google fonts - Poppins -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,700">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <!-- Choices CSS-->
    <link rel="stylesheet" href="~/assets/vendor/choices.js/public/assets/styles/choices.min.css">
    <!-- theme stylesheet-->
    <link rel="stylesheet" href="~/assets/css/style.default.css">
    <!-- Custom stylesheet - for your changes-->
    <link rel="stylesheet" href="~/assets/css/custom.css">
    <link rel="stylesheet" href="~/css/ErrorPage.css">
    <link rel="stylesheet" type="text/css" href="~/css/TableStyles.css" />

    <!-- Frameworks alerts -->
    <link rel="stylesheet" href="~/assets/css/iziToast.min.css">
    <!-- Favicon-->
    <link rel="shortcut icon" href="~/assets/img/favicon.ico">
    <!-- icons-->
    <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>
    <!--js-library css-->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
    <!-- Frameworks -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/dataTables.semanticui.min.css">

    <style>
        .sidebar-link {
            font-size: 1.3em !important;
        }

        .ui.modal {
            left: auto !important;
            top: auto !important;
            height: auto !important;
            overflow-x: unset !important;
        }


        #btnLogOut {
            text-transform: uppercase;
            text-decoration: none;
            padding: 0.5rem 2rem;
            display: inline-block;
            border-radius: 0.5rem;
            -webkit-transition: all 0.2s;
            transition: all 0.2s;
            position: relative;
            font-size: 1rem;
            border: none;
            cursor: pointer;
            background-color: #652D90;
        }

            #btnLogOut:hover {
                -webkit-transform: translateY(-3px);
                transform: translateY(-3px);
                -webkit-box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.2);
                box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.2);
                background-color: #652D90;
            }

                #btnLogOut:hover::after {
                    -webkit-transform: scaleX(1.4) scaleY(1.6);
                    transform: scaleX(1.4) scaleY(1.6);
                    opacity: 0;
                    background-color: #652D90;
                }

        .btn-edit {
            background-color: #A97BC4 !important;
            color: white;
        }

        .btn-delete {
            background-color: #cd0c36 !important;
            color: white;
        }

        .icon-crud {
            color: white;
        }

        .inputfile {
            width: 0.1px;
            height: 0.1px;
            opacity: 0;
            overflow: hidden;
            position: absolute;
            z-index: -1;
        }
        #loaderAnimation {
            background-color: rgba(25,25,25,0.7);
            height: 100%;
            width: 100%;
            position: fixed;
            z-index: 9999;
            margin-top: 0;
            top: 0;
            left: 0px;
            text-align: center;
        }

            #loaderAnimation img {
                width: 100px;
                height: 100px;
                position: relative;
                margin-top: -50px;
                margin-left: -50px;
                top: 50%;
            }
    </style>
    @RenderSection("HeadLinks", required: false)
    @RenderSection("CSS", required: false)

</head>
<body>
    <div class="page">
        <!-- Main Navbar-->
        <header class="header z-index-50">
            <nav class="navbar py-3 px-0 shadow-sm text-white position-relative">
                <!-- Search Box-->
                <div class="search-box shadow-sm">
                    <button class="dismiss d-flex align-items-center">
                        <svg class="svg-icon svg-icon-heavy">
                            <use xlink:href="#close-1"> </use>
                        </svg>
                    </button>
                    <form id="searchForm" action="#" role="search">
                        <input class="form-control shadow-0" type="text" placeholder="What are you looking for...">
                    </form>
                </div>
                <div class="container-fluid w-100">
                    <div class="navbar-holder d-flex align-items-center justify-content-between w-100">
                        <!-- Navbar Header-->
                        <div class="navbar-header">
                            <!-- Navbar Brand -->
                            <a class="navbar-brand d-none d-sm-inline-block" href="@Url.Action("Index", "Home")">
                                <div class="brand-text d-none d-lg-inline-block img-fluid"><img src="~/assets/img/logo-AHM-Fondo-Morao.png" width="45px" height="45px" alt="imagen de logo"><span>Total</span><strong>Travel</strong></div>
                                <div class="brand-text d-none d-sm-inline-block d-lg-none"><strong><img src="~/assets/img/logo-AHM-Fondo-Morao.png" width="45px" height="45px" alt="imagen de logo"></strong></div>
                            </a>
                            <!-- Toggle Button--><a class="menu-btn active" id="toggle-btn" onclick="sideBarState()" href="#"><span></span><span></span><span></span></a>
                        </div>
                        <!-- Navbar Menu -->
                        <ul class="nav-menu list-unstyled d-flex flex-md-row align-items-md-center"
                            style="
                            display: flex;
                            justify-content: space-between;
                            align-content: space-around;">
                            <li id="search" class="nav-item d-flex align-items-center">

                            </li>
                            <li class="nav-item">
                                <a class="btn btn-primary nav-link text-white boton" href="@Url.Action("LogOut", "Access")" style="background-color: #652D90;" id="btnLogOut">
                                    <i class="power off icon"></i>
                                    <span class="d-none d-sm-inline">Cerrar Sesión</span>
                                </a>
                            </li>
                            <li class="nav-item" style="
                                display: flex;
                                justify-content: space-between;
                                align-content: space-around;">

                                <!-- GTranslate: https://gtranslate.io/ -->
                                <a href="#" onclick="doGTranslate('es|en');return false;" title="English" class="gflag nturl" style="background-position:-0px -0px; margin-top:15px;"><img src="//gtranslate.net/flags/blank.png" height="24" width="24" alt="English" /></a>
                                <p style="
                                   display: flex;
                                   margin-top: 15px;
                                   align-content: center;
                                   align-items: center;
                                   margin-left: 11px;
                                   margin-right: 11px;"> | </p>
                                <a href="#" onclick="doGTranslate('es|es');return false;" title="Spanish" class="gflag nturl" style="background-position:-600px -200px; margin-top:15px;"><img src="//gtranslate.net/flags/blank.png" height="24" width="24" alt="Spanish" /></a>

                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </header>

        <div class="page-content d-flex align-items-stretch">
            <!-- Side Navbar -->
            <nav class="side-navbar">
                <!-- Sidebar Header-->
                <div class="sidebar-header d-flex align-items-center py-4 px-3">

                    <a class="nav-link nav-profile d-flex align-items-center pe-0" href="#" id="popButton">
                        <img class="avatar shadow-0 img-fluid rounded-circle" style="margin-right: 11px;margin-left: 25%;" src="@Context.Session.GetString("ImgUrl")" alt="..." id="user_image">
                        <div class="ms-3 title">
                            <a class="d-none d-md-block dropdown-toggle h4 mb-2 text-capitalize" style="color: black; text-decoration: inherit;">
                                @Context.Session.GetString("Name")
                            </a>
                            @{ if (usersRole != "Cliente")
                                {
                                    <span class="text-gray-400 letter-spacing-0">@Context.Session.GetString("Partner") </span>
                                }
                            }
                        </div>
                    </a>
                    @{
                       

                        if (usersRole == "Administrador")
                        {
                                <div class="ui popup right center transition hidden" style="inset: 563.969px auto auto 1px; width: 670px;" id="popContent">
                                    <div class="ui vertical menu">
                                        <a class="item" id="Cuenta" asp-area="" asp-controller="Account" asp-action="Index">
                                            <i class="bi bi-person"></i>
                                            <span>Mi Cuenta</span>
                                        </a>
                                        <a class="item" id="comprasb" asp-area="" asp-controller="PayHistory" asp-action="Index">
                                            <i class="bi bi-person"></i>
                                            <span>Historial de compras</span>
                                        </a>
                                        <a class="item" id="Hisotial" asp-area="" asp-controller="RegistrationPayments" asp-action="IndexHistory">
                                            <i class="bi bi-person"></i>
                                            <span>Historial de transacciones</span>
                                        </a>
                                        <a class="item" id="Hisotial" asp-area="" asp-controller="Timeline" asp-action="Index">
                                            <i class="bi bi-person"></i>
                                            <span>Calendario de reservaciones</span>
                                        </a>
                                    </div>
                                </div>
                        }
                        if (usersRole == "Cliente")
                        {
                                <div class="ui popup right center transition hidden" style="inset: 563.969px auto auto 1px; width: 670px;" id="popContent">
                                    <div class="ui vertical menu">
                                        <a class="item" id="Cuenta" asp-area="" asp-controller="Account" asp-action="Index">
                                            <i class="bi bi-person"></i>
                                            <span>Mi Cuenta</span>
                                        </a>
                                        <a class="item" id="comprasb" asp-area="" asp-controller="PayHistory" asp-action="Index">
                                            <i class="bi bi-person"></i>
                                            <span>Historial de compras</span>
                                        </a>
                                        <a class="item" id="Hisotial" asp-area="" asp-controller="RegistrationPayments" asp-action="IndexHistory">
                                            <i class="bi bi-person"></i>
                                            <span>Historial de transacciones</span>
                                        </a>
                                        <a class="item" id="Hisotial" asp-area="" asp-controller="Timeline" asp-action="Index">
                                            <i class="bi bi-person"></i>
                                            <span>Calendario de reservaciones</span>
                                        </a>
                                    </div>
                                </div>
                        }
                        if (usersRole == "Moderador de Hotel")
                        {
                                <div class="ui popup right center transition hidden" style="inset: 563.969px auto auto 1px; width: 670px;" id="popContent">
                                    <div class="ui vertical menu">
                                        <a class="item" id="Cuenta" asp-area="" asp-controller="Account" asp-action="Index">
                                            <i class="bi bi-person"></i>
                                            <span>Mi Cuenta</span>
                                        </a>
                                    </div>
                                </div>
                        }
                        if (usersRole == "Moderador de Transporte")
                        {
                                <div class="ui popup right center transition hidden" style="inset: 563.969px auto auto 1px; width: 670px;" id="popContent">
                                    <div class="ui vertical menu">
                                        <a class="item" id="Cuenta" asp-area="" asp-controller="Account" asp-action="Index">
                                            <i class="bi bi-person"></i>
                                            <span>Mi Cuenta</span>

                                        </a>
                                    </div>
                                </div>
                        }
                        if (usersRole == "Moderador de Agencia Turistica")
                        {
                                <div class="ui popup right center transition hidden" style="inset: 563.969px auto auto 1px; width: 670px;" id="popContent">
                                    <div class="ui vertical menu">
                                        <a class="item" id="Cuenta" asp-area="" asp-controller="Account" asp-action="Index">
                                            <i class="bi bi-person"></i>
                                            <span>Mi Cuenta</span>
                                        </a>
                                    </div>
                                </div>
                        }
                        if (usersRole == "Moderador de Restaurante")
                        {
                                <div class="ui popup right center transition hidden" style="inset: 563.969px auto auto 1px; width: 670px;" id="popContent">
                                    <div class="ui vertical menu">
                                        <a class="item" id="Cuenta" asp-area="" asp-controller="Account" asp-action="Index">
                                            <i class="bi bi-person"></i>
                                            <span>Mi Cuenta</span>
                                        </a>
                                    </div>
                                </div>
                        }
                        if (usersRole == "Moderador de Actividades")
                        {
                                <div class="ui popup right center transition hidden" style="inset: 563.969px auto auto 1px; width: 670px;" id="popContent">
                                    <div class="ui vertical menu">
                                        <a class="item" id="Cuenta" asp-area="" asp-controller="Account" asp-action="Index">
                                            <i class="bi bi-person"></i>
                                            <span>Mi Cuenta</span>
                                        </a>
                                    </div>
                                </div>
                        }

                    }

                    <!-- End Profile Image Icon -->
                </div>
                <ul class="list-unstyled py-4" id="menu_rol_items"></ul>
                <ul class="list-unstyled" id="menu_rol_groups"></ul>
                


            </nav>
            <div class="content-inner w-100">
                @RenderBody()
                <footer class="position-absolute bottom-0 bg-darkBlue text-white text-center py-3 w-100 " style="font-size: large;" id="footer">
                    <div class="container-fluid">
                        <div class="row gy-2">
                            <div class="col-sm-6 text-sm-start">
                                <p class="mb-0">TotalTravel  &copy; 2022-2023</p>
                            </div>
                            <div class="col-sm-6 text-sm-end">
                                <p class="mb-0">Diseñado por <a href="https://github.com/orgs/AcademiaProgramadoresAHM/repositories" class="text-white text-decoration-none">AHM generación 5.2</a></p>
                            </div>
                        </div>
                    </div>
                </footer>
            </div>
        </div>
    </div>

    <div id="loaderAnimation" style="">
        <img src="~/assets/img/spinning-circles.svg">
    </div>

    <!-- frameworks -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- BOOTSTRAP DOCUMENTATION https://getbootstrap.com/docs/5.2/getting-started/introduction/ -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.8/dist/semantic.min.js"></script>

    <!-- alerts Libraries -->
    <script src="~/assets/js/iziToast.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- Libraries -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>

    <!--Datatables dependencies-->
    <!--
    <script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.12.1/datatables.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/dataTables.semanticui.min.css">
    -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>


    <link href="https://nightly.datatables.net/css/jquery.dataTables.css" rel="stylesheet" type="text/css" />
    <script src="https://nightly.datatables.net/js/jquery.dataTables.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.2.2/js/buttons.html5.js"></script>
    <link href="https://cdn.datatables.net/buttons/1.5.1/css/buttons.dataTables.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.datatables.net/buttons/1.5.1/js/dataTables.buttons.min.js"></script>

    <script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.print.min.js"></script>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/fotorama/4.6.4/fotorama.js"></script>
    <script type="text/javascript" src="~/js/Pagination.js"></script>
    <script type="text/javascript" src="~/assets/js/front.js"></script>


    <!-- Proyect files -->
    <script id="sessionData" type="application/json">
        @Html.Raw(Json.Serialize(new
   {
       userId = Context.Session.GetInt32("UserID"),
       partnerId = Context.Session.GetInt32("PartnerID"),
       userName = Context.Session.GetString("Name"),
       token = Context.Session.GetString("Token"),
       userRol = Context.Session.GetString("Role"),
       userRol_Id = Context.Session.GetString("Role_Id"),
      
   }))
    </script>
    <script src="~/js/main.js"></script>
    <script src="~/js/ErrorPage.js"></script>
    <script src="~/assets/js/Layout.js"></script>
    <script src="~/js/site.js"></script>
    <script src="~/js/JSON_Models.js"></script>
    @RenderSection("Scripts", required: false)
    @RenderSection("HighlightTile", required: false)

    <style type="text/css">
        <!--
        a.gflag {
            vertical-align: middle;
            font-size: 24px;
            padding: 1px 0;
            background-repeat: no-repeat;
            background-image: url(//gtranslate.net/flags/24.png);
        }

            a.gflag img {
                border: 0;
            }

            a.gflag:hover {
                background-image: url(//gtranslate.net/flags/24a.png);
            }

        #goog-gt-tt {
            display: none !important;
        }

        .goog-te-banner-frame {
            display: none !important;
        }

        .goog-te-menu-value:hover {
            text-decoration: none !important;
        }

        body {
            top: 0 !important;
        }

        #google_translate_element2 {
            display: none !important;
        }

        -->
    </style>


    <div id="google_translate_element2"></div>
    <script type="text/javascript">
        function googleTranslateElementInit2() { new google.translate.TranslateElement({ pageLanguage: 'es', autoDisplay: true }, 'google_translate_element2'); }
    </script>
    <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit2"></script>


</body>
</html>





